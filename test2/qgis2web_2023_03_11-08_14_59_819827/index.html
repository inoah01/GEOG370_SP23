<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width"
    />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <link rel="stylesheet" href="css/leaflet.css" />
    <link rel="stylesheet" href="css/qgis2web.css" />
    <link rel="stylesheet" href="css/fontawesome-all.min.css" />
    <style>
      html,
      body,
      #map {
        width: 100%;
        height: 100%;
        padding: 0;
        margin: 0;
      }
    </style>
    <title>Noah Davis - Test 2 Practicum - Bus Stops by Census Blocks</title>
  </head>
  <body>
    <div id="map"></div>
    <script src="js/qgis2web_expressions.js"></script>
    <script src="js/leaflet.js"></script>
    <script src="js/leaflet-svg-shape-markers.min.js"></script>
    <script src="js/leaflet.rotatedMarker.js"></script>
    <script src="js/leaflet.pattern.js"></script>
    <script src="js/leaflet-hash.js"></script>
    <script src="js/Autolinker.min.js"></script>
    <script src="js/rbush.min.js"></script>
    <script src="js/labelgun.min.js"></script>
    <script src="js/labels.js"></script>
    <script src="data/BusStopsper1000_0.js"></script>
    <script src="data/Streets_1.js"></script>
    <script src="data/BusStops_2.js"></script>
    <script>
      var highlightLayer;
      function highlightFeature(e) {
        highlightLayer = e.target;

        if (e.target.feature.geometry.type === "LineString") {
          highlightLayer.setStyle({
            color: "#ffff00",
          });
        } else {
          highlightLayer.setStyle({
            fillColor: "#ffff00",
            fillOpacity: 1,
          });
        }
      }
      var map = L.map("map", {
        zoomControl: true,
        maxZoom: 28,
        minZoom: 1,
      }).fitBounds([
        [35.89224430243047, -79.17257903411],
        [35.98189248813826, -78.99270577604226],
      ]);
      var hash = new L.Hash(map);
      map.attributionControl.setPrefix(
        '<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>'
      );
      var autolinker = new Autolinker({
        truncate: { length: 30, location: "smart" },
      });
      var bounds_group = new L.featureGroup([]);
      function setBounds() {}
      function pop_BusStopsper1000_0(feature, layer) {
        layer.on({
          mouseout: function (e) {
            for (i in e.target._eventParents) {
              e.target._eventParents[i].resetStyle(e.target);
            }
          },
          mouseover: highlightFeature,
        });
        var popupContent =
          '<table>\
                  <tr>\
                      <th scope="row">Census Block Number:</th>\
                      <td>' +
          (feature.properties["BLKGRPCE"] !== null
            ? autolinker.link(feature.properties["BLKGRPCE"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <th scope="row">Number of Bus Stops:</th>\
                      <td>' +
          (feature.properties["modified-data_for_join_Num_Stops"] !== null
            ? autolinker.link(
                feature.properties[
                  "modified-data_for_join_Num_Stops"
                ].toLocaleString()
              )
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <th scope="row">2020 Population:</th>\
                      <td>' +
          (feature.properties["modified-data_for_join_Pop_2020"] !== null
            ? autolinker.link(
                feature.properties[
                  "modified-data_for_join_Pop_2020"
                ].toLocaleString()
              )
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <th scope="row">Bus Stops per 1,000 people:</th>\
                      <td>' +
          (feature.properties["modified-data_for_join_Stops_per_1000"] !== null
            ? autolinker.link(
                feature.properties[
                  "modified-data_for_join_Stops_per_1000"
                ].toLocaleString()
              )
            : "") +
          "</td>\
                  </tr>\
              </table>";
        layer.bindPopup(popupContent, { maxHeight: 400 });
      }

      function style_BusStopsper1000_0_0(feature) {
        if (
          feature.properties["modified-data_for_join_Stops_per_1000"] >= 0.0 &&
          feature.properties["modified-data_for_join_Stops_per_1000"] <= 0.004
        ) {
          return {
            pane: "pane_BusStopsper1000_0",
            opacity: 1,
            color: "rgba(35,35,35,1.0)",
            dashArray: "",
            lineCap: "butt",
            lineJoin: "miter",
            weight: 1.0,
            fill: true,
            fillOpacity: 1,
            fillColor: "rgba(255,255,255,1.0)",
            interactive: true,
          };
        }
        if (
          feature.properties["modified-data_for_join_Stops_per_1000"] >=
            0.004 &&
          feature.properties["modified-data_for_join_Stops_per_1000"] <= 0.009
        ) {
          return {
            pane: "pane_BusStopsper1000_0",
            opacity: 1,
            color: "rgba(35,35,35,1.0)",
            dashArray: "",
            lineCap: "butt",
            lineJoin: "miter",
            weight: 1.0,
            fill: true,
            fillOpacity: 1,
            fillColor: "rgba(192,214,227,1.0)",
            interactive: true,
          };
        }
        if (
          feature.properties["modified-data_for_join_Stops_per_1000"] >=
            0.009 &&
          feature.properties["modified-data_for_join_Stops_per_1000"] <= 0.014
        ) {
          return {
            pane: "pane_BusStopsper1000_0",
            opacity: 1,
            color: "rgba(35,35,35,1.0)",
            dashArray: "",
            lineCap: "butt",
            lineJoin: "miter",
            weight: 1.0,
            fill: true,
            fillOpacity: 1,
            fillColor: "rgba(130,173,198,1.0)",
            interactive: true,
          };
        }
        if (
          feature.properties["modified-data_for_join_Stops_per_1000"] >=
            0.014 &&
          feature.properties["modified-data_for_join_Stops_per_1000"] <= 0.021
        ) {
          return {
            pane: "pane_BusStopsper1000_0",
            opacity: 1,
            color: "rgba(35,35,35,1.0)",
            dashArray: "",
            lineCap: "butt",
            lineJoin: "miter",
            weight: 1.0,
            fill: true,
            fillOpacity: 1,
            fillColor: "rgba(67,131,170,1.0)",
            interactive: true,
          };
        }
        if (
          feature.properties["modified-data_for_join_Stops_per_1000"] >=
            0.021 &&
          feature.properties["modified-data_for_join_Stops_per_1000"] <= 0.034
        ) {
          return {
            pane: "pane_BusStopsper1000_0",
            opacity: 1,
            color: "rgba(35,35,35,1.0)",
            dashArray: "",
            lineCap: "butt",
            lineJoin: "miter",
            weight: 1.0,
            fill: true,
            fillOpacity: 1,
            fillColor: "rgba(4,90,141,1.0)",
            interactive: true,
          };
        }
      }
      map.createPane("pane_BusStopsper1000_0");
      map.getPane("pane_BusStopsper1000_0").style.zIndex = 400;
      map.getPane("pane_BusStopsper1000_0").style["mix-blend-mode"] = "normal";
      var layer_BusStopsper1000_0 = new L.geoJson(json_BusStopsper1000_0, {
        attribution: "",
        interactive: true,
        dataVar: "json_BusStopsper1000_0",
        layerName: "layer_BusStopsper1000_0",
        pane: "pane_BusStopsper1000_0",
        onEachFeature: pop_BusStopsper1000_0,
        style: style_BusStopsper1000_0_0,
      });
      bounds_group.addLayer(layer_BusStopsper1000_0);
      map.addLayer(layer_BusStopsper1000_0);
      function pop_Streets_1(feature, layer) {
        layer.on({
          mouseout: function (e) {
            for (i in e.target._eventParents) {
              e.target._eventParents[i].resetStyle(e.target);
            }
          },
          mouseover: highlightFeature,
        });
        var popupContent =
          '<table>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["fid"] !== null
            ? autolinker.link(feature.properties["fid"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["OBJECTID"] !== null
            ? autolinker.link(feature.properties["OBJECTID"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["StreetID"] !== null
            ? autolinker.link(feature.properties["StreetID"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["DirPrefix"] !== null
            ? autolinker.link(feature.properties["DirPrefix"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Name"] !== null
            ? autolinker.link(feature.properties["Name"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Type"] !== null
            ? autolinker.link(feature.properties["Type"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["DirSuffix"] !== null
            ? autolinker.link(feature.properties["DirSuffix"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["FullName"] !== null
            ? autolinker.link(feature.properties["FullName"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["LeftFrom"] !== null
            ? autolinker.link(feature.properties["LeftFrom"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["LeftTo"] !== null
            ? autolinker.link(feature.properties["LeftTo"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["RightFrom"] !== null
            ? autolinker.link(feature.properties["RightFrom"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["RightTo"] !== null
            ? autolinker.link(feature.properties["RightTo"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["LeftZip"] !== null
            ? autolinker.link(feature.properties["LeftZip"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["RightZip"] !== null
            ? autolinker.link(feature.properties["RightZip"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["LeftMailCi"] !== null
            ? autolinker.link(feature.properties["LeftMailCi"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["RightMailC"] !== null
            ? autolinker.link(feature.properties["RightMailC"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Alt_Prefix"] !== null
            ? autolinker.link(feature.properties["Alt_Prefix"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Alt_Name"] !== null
            ? autolinker.link(feature.properties["Alt_Name"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Alt_Type"] !== null
            ? autolinker.link(feature.properties["Alt_Type"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Alt_Suffix"] !== null
            ? autolinker.link(feature.properties["Alt_Suffix"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["PrevName"] !== null
            ? autolinker.link(feature.properties["PrevName"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["SR_Num"] !== null
            ? autolinker.link(feature.properties["SR_Num"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Jurisdicti"] !== null
            ? autolinker.link(feature.properties["Jurisdicti"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Jurisdic_1"] !== null
            ? autolinker.link(feature.properties["Jurisdic_1"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["County"] !== null
            ? autolinker.link(feature.properties["County"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["SegmentID"] !== null
            ? autolinker.link(feature.properties["SegmentID"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Maint"] !== null
            ? autolinker.link(feature.properties["Maint"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Surface"] !== null
            ? autolinker.link(feature.properties["Surface"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["RightSpeed"] !== null
            ? autolinker.link(feature.properties["RightSpeed"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["LeftSpeed"] !== null
            ? autolinker.link(feature.properties["LeftSpeed"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Direction"] !== null
            ? autolinker.link(feature.properties["Direction"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Class"] !== null
            ? autolinker.link(feature.properties["Class"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Curb"] !== null
            ? autolinker.link(feature.properties["Curb"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Width"] !== null
            ? autolinker.link(feature.properties["Width"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Miles"] !== null
            ? autolinker.link(feature.properties["Miles"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Cross1"] !== null
            ? autolinker.link(feature.properties["Cross1"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Cross12"] !== null
            ? autolinker.link(feature.properties["Cross12"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Cross2"] !== null
            ? autolinker.link(feature.properties["Cross2"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Cross22"] !== null
            ? autolinker.link(feature.properties["Cross22"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["SoundEx"] !== null
            ? autolinker.link(feature.properties["SoundEx"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["EditedBy"] !== null
            ? autolinker.link(feature.properties["EditedBy"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["EditedDate"] !== null
            ? autolinker.link(feature.properties["EditedDate"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Comments"] !== null
            ? autolinker.link(feature.properties["Comments"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Symbology"] !== null
            ? autolinker.link(feature.properties["Symbology"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["GlobalID"] !== null
            ? autolinker.link(feature.properties["GlobalID"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["RangeDista"] !== null
            ? autolinker.link(feature.properties["RangeDista"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["ESN_R"] !== null
            ? autolinker.link(feature.properties["ESN_R"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["RateCodeR"] !== null
            ? autolinker.link(feature.properties["RateCodeR"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["St_PosDir"] !== null
            ? autolinker.link(feature.properties["St_PosDir"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["St_PreDir"] !== null
            ? autolinker.link(feature.properties["St_PreDir"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["St_PreSep"] !== null
            ? autolinker.link(feature.properties["St_PreSep"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["GC_Excepti"] !== null
            ? autolinker.link(feature.properties["GC_Excepti"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["NbrhdCom_R"] !== null
            ? autolinker.link(feature.properties["NbrhdCom_R"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Valid_R"] !== null
            ? autolinker.link(feature.properties["Valid_R"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Parity_L"] !== null
            ? autolinker.link(feature.properties["Parity_L"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["AddCode_L"] !== null
            ? autolinker.link(feature.properties["AddCode_L"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["AdNumPre_R"] !== null
            ? autolinker.link(feature.properties["AdNumPre_R"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["County_L"] !== null
            ? autolinker.link(feature.properties["County_L"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["PostComm_L"] !== null
            ? autolinker.link(feature.properties["PostComm_L"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["PostCode_L"] !== null
            ? autolinker.link(feature.properties["PostCode_L"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["SpeedLimit"] !== null
            ? autolinker.link(feature.properties["SpeedLimit"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["FromAddr_L"] !== null
            ? autolinker.link(feature.properties["FromAddr_L"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["ATT_Except"] !== null
            ? autolinker.link(feature.properties["ATT_Except"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["LSt_PosDir"] !== null
            ? autolinker.link(feature.properties["LSt_PosDir"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["LSt_PreDir"] !== null
            ? autolinker.link(feature.properties["LSt_PreDir"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["DateUpdate"] !== null
            ? autolinker.link(feature.properties["DateUpdate"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["ToAddr_L"] !== null
            ? autolinker.link(feature.properties["ToAddr_L"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["MSAGComm_L"] !== null
            ? autolinker.link(feature.properties["MSAGComm_L"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["St_PosMod"] !== null
            ? autolinker.link(feature.properties["St_PosMod"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["St_PreMod"] !== null
            ? autolinker.link(feature.properties["St_PreMod"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["OneWay"] !== null
            ? autolinker.link(feature.properties["OneWay"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["RoadClass"] !== null
            ? autolinker.link(feature.properties["RoadClass"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["IncMuni_L"] !== null
            ? autolinker.link(feature.properties["IncMuni_L"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["UnincCom_L"] !== null
            ? autolinker.link(feature.properties["UnincCom_L"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Parity_R"] !== null
            ? autolinker.link(feature.properties["Parity_R"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["AddCode_R"] !== null
            ? autolinker.link(feature.properties["AddCode_R"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["County_R"] !== null
            ? autolinker.link(feature.properties["County_R"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["PostComm_R"] !== null
            ? autolinker.link(feature.properties["PostComm_R"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["DiscrpAgID"] !== null
            ? autolinker.link(feature.properties["DiscrpAgID"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["ESN_L"] !== null
            ? autolinker.link(feature.properties["ESN_L"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["PostCode_R"] !== null
            ? autolinker.link(feature.properties["PostCode_R"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["RateCodeL"] !== null
            ? autolinker.link(feature.properties["RateCodeL"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["FromAddr_R"] !== null
            ? autolinker.link(feature.properties["FromAddr_R"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["LSt_PosMod"] !== null
            ? autolinker.link(feature.properties["LSt_PosMod"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["LSt_PreMod"] !== null
            ? autolinker.link(feature.properties["LSt_PreMod"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["ToAddr_R"] !== null
            ? autolinker.link(feature.properties["ToAddr_R"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["MSAGComm_R"] !== null
            ? autolinker.link(feature.properties["MSAGComm_R"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["St_Name"] !== null
            ? autolinker.link(feature.properties["St_Name"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["NbrhdCom_L"] !== null
            ? autolinker.link(feature.properties["NbrhdCom_L"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Valid_L"] !== null
            ? autolinker.link(feature.properties["Valid_L"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Effective"] !== null
            ? autolinker.link(feature.properties["Effective"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["LSt_Type"] !== null
            ? autolinker.link(feature.properties["LSt_Type"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["IncMuni_R"] !== null
            ? autolinker.link(feature.properties["IncMuni_R"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["UnincCom_R"] !== null
            ? autolinker.link(feature.properties["UnincCom_R"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["Expire"] !== null
            ? autolinker.link(feature.properties["Expire"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["AdNumPre_L"] !== null
            ? autolinker.link(feature.properties["AdNumPre_L"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["St_PosTyp"] !== null
            ? autolinker.link(feature.properties["St_PosTyp"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["St_PreTyp"] !== null
            ? autolinker.link(feature.properties["St_PreTyp"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["LSt_Name"] !== null
            ? autolinker.link(feature.properties["LSt_Name"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["RCL_NGUID"] !== null
            ? autolinker.link(feature.properties["RCL_NGUID"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <td colspan="2">' +
          (feature.properties["SHAPESTLen"] !== null
            ? autolinker.link(feature.properties["SHAPESTLen"].toLocaleString())
            : "") +
          "</td>\
                  </tr>\
              </table>";
        layer.bindPopup(popupContent, { maxHeight: 400 });
      }

      function style_Streets_1_0() {
        return {
          pane: "pane_Streets_1",
          opacity: 1,
          color: "rgba(0,0,0,1.0)",
          dashArray: "",
          lineCap: "square",
          lineJoin: "bevel",
          weight: 1.0,
          fillOpacity: 0,
          interactive: true,
        };
      }
      map.createPane("pane_Streets_1");
      map.getPane("pane_Streets_1").style.zIndex = 401;
      map.getPane("pane_Streets_1").style["mix-blend-mode"] = "normal";
      var layer_Streets_1 = new L.geoJson(json_Streets_1, {
        attribution: "",
        interactive: true,
        dataVar: "json_Streets_1",
        layerName: "layer_Streets_1",
        pane: "pane_Streets_1",
        onEachFeature: pop_Streets_1,
        style: style_Streets_1_0,
      });
      bounds_group.addLayer(layer_Streets_1);
      map.addLayer(layer_Streets_1);
      function pop_BusStops_2(feature, layer) {
        layer.on({
          mouseout: function (e) {
            for (i in e.target._eventParents) {
              e.target._eventParents[i].resetStyle(e.target);
            }
          },
          mouseover: highlightFeature,
        });
        var popupContent =
          '<table>\
                  <tr>\
                      <th scope="row">Latitude:</th>\
                      <td>' +
          (feature.properties["LAT"] !== null
            ? autolinker.link(feature.properties["LAT"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <th scope="row">Longitude</th>\
                      <td>' +
          (feature.properties["LONG"] !== null
            ? autolinker.link(feature.properties["LONG"].toLocaleString())
            : "") +
          '</td>\
                  </tr>\
                  <tr>\
                      <th scope="row">Name:</th>\
                      <td>' +
          (feature.properties["Name_1"] !== null
            ? autolinker.link(feature.properties["Name_1"].toLocaleString())
            : "") +
          "</td>\
                  </tr>\
              </table>";
        layer.bindPopup(popupContent, { maxHeight: 400 });
      }

      function style_BusStops_2_0() {
        return {
          pane: "pane_BusStops_2",
          shape: "triangle",
          radius: 6.0,
          opacity: 1,
          color: "rgba(128,17,25,1.0)",
          dashArray: "",
          lineCap: "butt",
          lineJoin: "miter",
          weight: 2.0,
          fill: true,
          fillOpacity: 1,
          fillColor: "rgba(255,141,35,1.0)",
          interactive: true,
        };
      }
      map.createPane("pane_BusStops_2");
      map.getPane("pane_BusStops_2").style.zIndex = 402;
      map.getPane("pane_BusStops_2").style["mix-blend-mode"] = "normal";
      var layer_BusStops_2 = new L.geoJson(json_BusStops_2, {
        attribution: "",
        interactive: true,
        dataVar: "json_BusStops_2",
        layerName: "layer_BusStops_2",
        pane: "pane_BusStops_2",
        onEachFeature: pop_BusStops_2,
        pointToLayer: function (feature, latlng) {
          var context = {
            feature: feature,
            variables: {},
          };
          return L.shapeMarker(latlng, style_BusStops_2_0(feature));
        },
      });
      bounds_group.addLayer(layer_BusStops_2);
      map.addLayer(layer_BusStops_2);
      var title = new L.Control();
      title.onAdd = function (map) {
        this._div = L.DomUtil.create("div", "info");
        this.update();
        return this._div;
      };
      title.update = function () {
        this._div.innerHTML =
          "<h2>Noah Davis - Test 2 Practicum - Bus Stops by Census Blocks</h2>";
      };
      title.addTo(map);
      var abstract = new L.Control({ position: "topright" });
      abstract.onAdd = function (map) {
        this._div = L.DomUtil.create("div", "leaflet-control abstract");
        this._div.id = "abstract";
        this._div.setAttribute("onmouseenter", "abstract.show()");
        this._div.setAttribute("onmouseleave", "abstract.hide()");
        this.hide();
        return this._div;
      };
      abstract.hide = function () {
        this._div.classList.remove("abstractUncollapsed");
        this._div.classList.add("abstract");
        this._div.innerHTML = "i";
      };
      abstract.show = function () {
        this._div.classList.remove("abstract");
        this._div.classList.add("abstractUncollapsed");
        this._div.innerHTML =
          "This choropleth map depicts the number of bus stops per 1,000 people for each of the census blocks in Chapel Hill and Carrboro, North Carolina. <br /><br />The classification scheme selected for the bus stops per 1,000 people was Natural breaks. This decision was made in order to best display the natural patterns of the data. To actually display that data, a dark blue gradient was used to create distinct differences between classes and avoid suggesting any particular theme through the use of colors (e.g. - red or lighter indigo blue). For clear contrast with this blue gradient, orange was selected as the color for the bus stop locations. Additionally, in order to provide additional detail while minimizing clutter, a low-opacity black line was used to represent streets.<br />";
      };
      abstract.addTo(map);
      var baseMaps = {};
      L.control
        .layers(
          baseMaps,
          {
            '<img src="legend/BusStops_2.png" /> Bus Stops': layer_BusStops_2,
            '<img src="legend/Streets_1.png" /> Streets': layer_Streets_1,
            'Bus Stops per 1,000:<br /><table><tr><td style="text-align: center;"><img src="legend/BusStopsper1000_0_000040.png" /></td><td>0 - 0.004</td></tr><tr><td style="text-align: center;"><img src="legend/BusStopsper1000_0_000400091.png" /></td><td>0.004 - 0.009</td></tr><tr><td style="text-align: center;"><img src="legend/BusStopsper1000_0_000900142.png" /></td><td>0.009 - 0.014</td></tr><tr><td style="text-align: center;"><img src="legend/BusStopsper1000_0_001400213.png" /></td><td>0.014 - 0.021</td></tr><tr><td style="text-align: center;"><img src="legend/BusStopsper1000_0_002100344.png" /></td><td>0.021 - 0.034</td></tr></table>':
              layer_BusStopsper1000_0,
          },
          { collapsed: false }
        )
        .addTo(map);
      setBounds();
      resetLabels([layer_BusStopsper1000_0]);
      map.on("zoomend", function () {
        resetLabels([layer_BusStopsper1000_0]);
      });
      map.on("layeradd", function () {
        resetLabels([layer_BusStopsper1000_0]);
      });
      map.on("layerremove", function () {
        resetLabels([layer_BusStopsper1000_0]);
      });
    </script>
  </body>
</html>
